!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},r={},n={},a={}.hasOwnProperty,o=/^\.\.?(\/|$)/,i=function(e,t){for(var r,n=[],a=(o.test(t)?e+"/"+t:t).split("/"),i=0,l=a.length;i<l;i++)r=a[i],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},l=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(r){var n=i(l(t),r);return e.require(n,t)}},c=function(e,t){var n=null;n=h&&h.createHot(e);var a={id:e,exports:{},hot:n};return r[e]=a,t(a.exports,u(e),a),a.exports},s=function(e){return n[e]?s(n[e]):e},f=function(e,t){return s(i(l(e),t))},d=function(e,n){null==n&&(n="/");var o=s(e);if(a.call(r,o))return r[o].exports;if(a.call(t,o))return c(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};d.alias=function(e,t){n[t]=e};var p=/\.[^.\/]+$/,g=/\/index(\.[^\/]+)?$/,v=function(e){if(p.test(e)){var t=e.replace(p,"");a.call(n,t)&&n[t].replace(p,"")!==t+"/index"||(n[t]=e)}if(g.test(e)){var r=e.replace(g,"");a.call(n,r)||(n[r]=e)}};d.register=d.define=function(e,n){if("object"==typeof e)for(var o in e)a.call(e,o)&&d.register(o,e[o]);else t[e]=n,delete r[e],v(e)},d.list=function(){var e=[];for(var r in t)a.call(t,r)&&e.push(r);return e};var h=e._hmr&&new e._hmr(f,d,t,r);d._cache=r,d.hmr=h&&h.wrap,d.brunch=!0,e.require=d}}(),function(){"undefined"==typeof window?this:window;require.register("canvas.js",function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=document.getElementById("app"),a=document.getElementById("scene"),o=!1,i=void 0,l=function(){o||(o=!0,setTimeout(function(e){return o=!1},500),clearTimeout(i),i=setTimeout(function(){i=null;var e=window.innerWidth,t=window.innerHeight,r=e/16*9;if(r<t)n.style.height=r+"px",n.style.width="100%",n.style.top=(t-r)/2+"px",n.style.left="";else{var a=t/9*16;n.style.height="100%",n.style.width=a+"px",n.style.top="",n.style.left=(e-a)/2+"px"}n.style.fontSize=n.getBoundingClientRect().height/100+"px"},750))};window.addEventListener("resize",l),l();var u=function(){return a.innerHTML="",a},c=function(){return a};e["default"]={clean:u,getScene:c}}),require.register("initialize.js",function(e,t,r){"use strict";document.addEventListener("DOMContentLoaded",function(){var e=t("./scenes/SceneManager");console.log("initialized"),e.navigate("office_game"),console.log("main loaded")})}),require.register("scenes/OfficeGameScene.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=t("interactjs"),c=n(u),s=t("../utils"),f=t("./Scene"),d=n(f),p=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(e){var t=this;e.style.backgroundImage="url(img/officegame_bg2.jpg)";var r=["blue","green","red"],n=[],a=((0,s.range)(4).map(function(a){var o=void 0,i=document.createElement("div");return i.classList.add("shelf"),i.classList.add("shelf"+a),a<3?(o=t.fill_shelf_with_folders(i,r[a],3),n=n.concat(o)):t.fill_shelf_with_folders(i,"yellow",0),e.appendChild(i),i}),document.createElement("div"));a.classList.add("drag_shadow");var o=document.createElement("div");o.classList.add("drag_container"),a.appendChild(o),(0,s.shuffle)(n).forEach(function(e){var r=e.color,n=e.number,a=e.drop_target,i=t.create_draggable_folder(r,n,a);o.appendChild(i)}),e.appendChild(a),(0,c["default"])(".draggable_folder").draggable({inertia:!0,onmove:function(e){var t=e.target,r=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,n=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.transform="translate("+r+"px, "+n+"px)",t.setAttribute("data-x",r),t.setAttribute("data-y",n)},onend:function(e){}}),(0,c["default"])(".folder_space").dropzone({overlap:.5,ondragenter:function(e){e.target.classList.add("drop-target")},ondragleave:function(e){e.target.classList.remove("drop-target")},ondrop:function(e){var t=e.target.getBoundingClientRect(),r=t.x,n=t.y,a=e.relatedTarget;console.log(r,n),a.style.top=n+"px",a.style.left=r+"px",a.style.transform="",a.classList.remove("draggable_folder"),e.target.appendChild(a)},ondropdeactivate:function(e){var t=e.relatedTarget;t.removeAttribute("data-x"),t.removeAttribute("data-y"),t.style.transform=0,e.target.classList.remove("drop-target")}})}},{key:"fill_shelf_with_folders",value:function(e,t,r){var n=this,a=(0,s.range)(10),o=(0,s.range)(r).map(function(e){var t=Math.floor(Math.random()*a.length),r=a[t],n=Math.max(0,t-1);return a.splice(n,3),r});return(0,s.range)(10).reduce(function(r,a){if(o.includes(a)){var i=document.createElement("div");return i.classList.add("folder_space"),e.appendChild(i),r.concat({number:a,color:t,drop_target:i})}return e.appendChild(n.create_folder(t,a)),r},[])}},{key:"create_draggable_folder",value:function(e,t,r){var n=this.create_folder(e,t);return n.classList.add("draggable_folder"),n}},{key:"create_folder",value:function(e,t){var r=this.folder_sprite_offset(e,t),n=document.createElement("div");return n.classList.add("folder"),n.style.backgroundPosition=r,n}},{key:"folder_sprite_offset",value:function(e,t){var r={yellow:0,blue:33.3,green:66.6,red:100},n=11.1*t,a=r[e];return n+"% "+a+"%"}},{key:"cleanup",value:function(e){e.style.backgroundImage=""}}]),t}(d["default"]);e["default"]=p}),require.register("scenes/Scene.js",function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return a(e,[{key:"render",value:function(e){}},{key:"clenaup",value:function(e){}}]),e}();e["default"]=o}),require.register("scenes/SceneManager.js",function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a,o=t("./OfficeGameScene"),i=n(o),l=t("canvas"),u=n(l),c={office_game:new i["default"]},s=function(e){if(!(e in c))throw"Unknown scene '"+e+"'";var t=c[e];a&&a.cleanup&&a.cleanup();var r=u["default"].clean();t.render(r),a=t};r.exports={navigate:s}}),require.register("utils.js",function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;arguments.length<1?(t=0,e=0):null===t&&(t=e,e=0);for(var n=[];e!=t;)n.push(e),e+=r;return n}function a(e){for(var t=[],r=e.slice(0);r.length>0;){var n=Math.floor(Math.random()*r.length);t.push(r.splice(n,1)[0])}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.range=n,e.shuffle=a}),require.register("___globals___",function(e,t,r){})}(),require("___globals___");